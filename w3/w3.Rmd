---
title: "casual Analysis w3 workshop"
author: "Sennan Cai"
date: "2024-06-13"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

A

a)

```{r}
library(tidyverse)
library(lmtest)
library(pwr2)
library(readr)
jobtraining <- read_csv("~/Desktop/Causal Analytics/Module3_Causal_Analytics/w3/jobtraining.csv")
```

```{r}
# a
table(jobtraining$treatment)

# b checking randomness 
jobtraining %>% group_by(treatment,married) %>%
  summarise(cnt = n()) %>%
  mutate(prop = round(cnt / sum(cnt), 3)) %>% 
  arrange(desc(prop))

jobtraining %>% group_by(treatment,unemployed) %>%
  summarise(cnt = n()) %>%
  mutate(prop = round(cnt / sum(cnt), 3)) %>% 
  arrange(desc(prop))

jobtraining %>% group_by(treatment,age) %>%
  summarise(cnt = n()) %>%
  mutate(prop = round(cnt / sum(cnt), 3)) %>% 
  arrange(desc(prop))

jobtraining %>% group_by(treatment) %>% summarize(mean(age))

# c

```

B

```{r}
# a
hist(jobtraining$earnings)
hist(log(jobtraining$earnings)) # looks much normal

# b
t.test(log(earnings+1))



```

# d

```{r}
library(readr)
online_store_promo <- read_csv("~/Desktop/Causal Analytics/Module3_Causal_Analytics/w3/online_store_promo.csv")
```

```{r}
table(online_store_promo$Promotion, online_store_promo$Newsletter)
```

